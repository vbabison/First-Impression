[{"/Users/bobby/Desktop/Impressions/First-Impression/src/index.js":"1","/Users/bobby/Desktop/Impressions/First-Impression/src/App.js":"2","/Users/bobby/Desktop/Impressions/First-Impression/src/reportWebVitals.js":"3","/Users/bobby/Desktop/Impressions/First-Impression/src/components/Home.js":"4","/Users/bobby/Desktop/Impressions/First-Impression/src/components/Survey.js":"5","/Users/bobby/Desktop/Impressions/First-Impression/src/components/User.js":"6"},{"size":500,"mtime":1620892206335,"results":"7","hashOfConfig":"8"},{"size":1074,"mtime":1620903551298,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":1620890630272,"results":"10","hashOfConfig":"8"},{"size":4248,"mtime":1620903391221,"results":"11","hashOfConfig":"8"},{"size":1091,"mtime":1620903606284,"results":"12","hashOfConfig":"8"},{"size":450,"mtime":1620902472336,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"yo6qi4",{"filePath":"17","messages":"18","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"16"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"16"},"/Users/bobby/Desktop/Impressions/First-Impression/src/index.js",[],["30","31"],"/Users/bobby/Desktop/Impressions/First-Impression/src/App.js",["32","33","34","35"],"import React, { Component, useEffect, useRef, useState } from \"react\"\nimport \"./App.css\"\nimport Home from './components/Home'\nimport User from './components/User'\nimport Survey from './components/Survey'\nimport { BrowserRouter as Router, Route, Switch, Link } from 'react-router-dom';\n\nfunction App() {\n  return (\n    <Router>\n      <body class=\"news\">\n        <header>\n          <div class=\"nav\">\n            <ul>\n              <li class=\"home\">\n                <Link to=\"/\">Home</Link>\n              </li>\n              <li class=\"tutorials\">\n                <Link to=\"/user\">User</Link>\n              </li>\n              <li class=\"about\">\n                <Link to=\"/survey\">Survey</Link>\n              </li>\n            </ul>\n          </div>\n          <div>\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <Route exact path=\"/user\" component={User} />\n              <Route exact path=\"/survey\" component={Survey} />\n            </Switch>\n          </div>\n        </header>\n      </body>\n    </Router>\n  )\n}\n\nexport default App","/Users/bobby/Desktop/Impressions/First-Impression/src/reportWebVitals.js",[],"/Users/bobby/Desktop/Impressions/First-Impression/src/components/Home.js",["36"],"import Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport TextField from \"@material-ui/core/TextField\"\nimport AssignmentIcon from \"@material-ui/icons/Assignment\"\nimport PhoneIcon from \"@material-ui/icons/Phone\"\nimport React, { useEffect, useRef, useState } from \"react\"\nimport { CopyToClipboard } from \"react-copy-to-clipboard\"\nimport { Redirect } from \"react-router\"\nimport { useHistory } from 'react-router-dom';\nimport Peer from \"simple-peer\"\nimport io from \"socket.io-client\"\n\nconst socket = io.connect('http://localhost:5000')\nfunction Home() {\n  const [ me, setMe ] = useState(\"\")\n\tconst [ stream, setStream ] = useState()\n\tconst [ receivingCall, setReceivingCall ] = useState(false)\n\tconst [ caller, setCaller ] = useState(\"\")\n\tconst [ callerSignal, setCallerSignal ] = useState()\n\tconst [ callAccepted, setCallAccepted ] = useState(false)\n\tconst [ idToCall, setIdToCall ] = useState(\"\")\n\tconst [ callEnded, setCallEnded] = useState(false)\n\tconst [ name, setName ] = useState(\"\")\n\tconst myVideo = useRef()\n\tconst userVideo = useRef()\n\tconst connectionRef= useRef()\n\n\tuseEffect(() => {\n\t\tnavigator.mediaDevices.getUserMedia({ video: true, audio: true }).then((stream) => {\n\t\t\tsetStream(stream)\n\t\t\t\tmyVideo.current.srcObject = stream\n\t\t})\n\n\tsocket.on(\"me\", (id) => {\n\t\t\tsetMe(id)\n\t\t})\n\n\t\tsocket.on(\"callUser\", (data) => {\n\t\t\tsetReceivingCall(true)\n\t\t\tsetCaller(data.from)\n\t\t\tsetName(data.name)\n\t\t\tsetCallerSignal(data.signal)\n\t\t})\n\t}, [])\n\n\tconst callUser = (id) => {\n\t\tconst peer = new Peer({\n\t\t\tinitiator: true,\n\t\t\ttrickle: false,\n\t\t\tstream: stream\n\t\t})\n\t\tpeer.on(\"signal\", (data) => {\n\t\t\tsocket.emit(\"callUser\", {\n\t\t\t\tuserToCall: id,\n\t\t\t\tsignalData: data,\n\t\t\t\tfrom: me,\n\t\t\t\tname: name\n\t\t\t})\n\t\t})\n\t\tpeer.on(\"stream\", (stream) => {\n\t\t\t\n\t\t\t\tuserVideo.current.srcObject = stream\n\t\t\t\n\t\t})\n\t\tsocket.on(\"callAccepted\", (signal) => {\n\t\t\tsetCallAccepted(true)\n\t\t\tpeer.signal(signal)\n\t\t})\n\n\t\tconnectionRef.current = peer\n\t}\n\n\tconst answerCall =() =>  {\n\t\tsetCallAccepted(true)\n\t\tconst peer = new Peer({\n\t\t\tinitiator: false,\n\t\t\ttrickle: false,\n\t\t\tstream: stream\n\t\t})\n\t\tpeer.on(\"signal\", (data) => {\n\t\t\tsocket.emit(\"answerCall\", { signal: data, to: caller })\n\t\t})\n\t\tpeer.on(\"stream\", (stream) => {\n\t\t\tuserVideo.current.srcObject = stream\n\t\t})\n\n\t\tpeer.signal(callerSignal)\n\t\tconnectionRef.current = peer\n\t}\n\n\tconst leaveCall = () => {\n\t\tsetCallEnded(true)\n    connectionRef.current.destroy()\n  }\n  \n  let history = useHistory();\n\n  return (\n    <>\n\t\t\t<h1 style={{ textAlign: \"center\", color: '#fff' }}>First Impressions</h1>\n\t\t<div className=\"container\">\n\t\t\t<div className=\"video-container\">\n\t\t\t\t<div className=\"video\">\n\t\t\t\t\t{stream &&  <video playsInline muted ref={myVideo} autoPlay style={{ width: \"300px\" }} />}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"video\">\n\t\t\t\t\t{callAccepted && !callEnded ?\n\t\t\t\t\t<video playsInline ref={userVideo} autoPlay style={{ width: \"300px\"}} />:\n\t\t\t\t\tnull}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"myId\">\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"filled-basic\"\n\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\tvariant=\"filled\"\n\t\t\t\t\tvalue={name}\n\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\t\t\t\t\tstyle={{ marginBottom: \"20px\" }}\n\t\t\t\t/>\n\t\t\t\t<CopyToClipboard text={me} style={{ marginBottom: \"2rem\" }}>\n\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" startIcon={<AssignmentIcon fontSize=\"large\" />}>\n\t\t\t\t\t\tCopy ID\n\t\t\t\t\t</Button>\n\t\t\t\t</CopyToClipboard>\n\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"filled-basic\"\n\t\t\t\t\tlabel=\"ID to call\"\n\t\t\t\t\tvariant=\"filled\"\n\t\t\t\t\tvalue={idToCall}\n\t\t\t\t\tonChange={(e) => setIdToCall(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t<div className=\"call-button\">\n\t\t\t\t\t{callAccepted && !callEnded ? (\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={() => {leaveCall(); history.push(\"/survey\");}}>\n\t\t\t\t\t\t\tEnd Call\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<IconButton color=\"primary\" aria-label=\"call\" onClick={() => callUser(idToCall)}>\n\t\t\t\t\t\t\t<PhoneIcon fontSize=\"large\" />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t)}\n\t\t\t\t\t{name}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t{receivingCall && !callAccepted ? (\n\t\t\t\t\t\t<div className=\"caller\">\n\t\t\t\t\t\t<h1 >{name} is calling...</h1>\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={answerCall}>\n\t\t\t\t\t\t\tAnswer\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t</div>\n    </>\n  )\n}\n\nexport default Home;","/Users/bobby/Desktop/Impressions/First-Impression/src/components/Survey.js",[],"/Users/bobby/Desktop/Impressions/First-Impression/src/components/User.js",["37"],"import React from 'react';\nimport \"./User.css\";\n\nfunction User() {\n  return (\n    <div>\n        <img src=\"./images/peaky.jpeg\" class=\"peaky\" />\n        <div class=\"user-profile\">\n          <h1 class=\"user-name\">Bobby</h1>\n          <p class=\"rating\">Rating</p>\n          <p class=\"connected\">Connections</p>\n          <p class=\"online\">Online</p>\n        </div>\n        <button class=\"call-button\">Call</button>\n    </div>\n  )\n}\n\nexport default User;",{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","severity":1,"message":"43","line":1,"column":17,"nodeType":"44","messageId":"45","endLine":1,"endColumn":26},{"ruleId":"42","severity":1,"message":"46","line":1,"column":28,"nodeType":"44","messageId":"45","endLine":1,"endColumn":37},{"ruleId":"42","severity":1,"message":"47","line":1,"column":39,"nodeType":"44","messageId":"45","endLine":1,"endColumn":45},{"ruleId":"42","severity":1,"message":"48","line":1,"column":47,"nodeType":"44","messageId":"45","endLine":1,"endColumn":55},{"ruleId":"42","severity":1,"message":"49","line":8,"column":10,"nodeType":"44","messageId":"45","endLine":8,"endColumn":18},{"ruleId":"50","severity":1,"message":"51","line":7,"column":9,"nodeType":"52","endLine":7,"endColumn":56},"no-native-reassign",["53"],"no-negated-in-lhs",["54"],"no-unused-vars","'Component' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'useRef' is defined but never used.","'useState' is defined but never used.","'Redirect' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation"]